(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{138:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(22),c=n.n(r),s=(n(90),n(6)),i=n.n(s),o=n(13),l=n(28),u=n(43),d=n.n(u),j={key:"auth",storage:d.a,whitelist:["user"]},p={key:"shop",storage:d.a,whitelist:["favorites"]},_=n(2),O={TOGGLE_APP_LOADER:"common/TOGGLE_APP_LOADER",SET_GLOBAL_ERROR_MESSAGE:"common/SET_GLOBAL_ERROR_MESSAGE"},b={appIsLoading:!1,globalErrorMessage:""},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case O.TOGGLE_APP_LOADER:return Object(_.a)(Object(_.a)({},e),{},{appIsLoading:a});case O.SET_GLOBAL_ERROR_MESSAGE:return Object(_.a)(Object(_.a)({},e),{},{globalErrorMessage:a});default:return e}},m={GET_CATEGORIES_ASYNC_START:"shop/GET_CATEGORIES_ASYNC_START",GET_CATEGORIES_ASYNC_SUCCESS:"shop/GET_CATEGORIES_ASYNC_SUCCESS",GET_CATEGORIES_ASYNC_FAILURE:"shop/GET_CATEGORIES_ASYNC_FAILURE",GET_SHOP_DATA_ASYNC_START:"shop/GET_SHOP_DATA_ASYNC_START",GET_SHOP_DATA_ASYNC_SUCCESS:"shop/GET_SHOP_DATA_ASYNC_SUCCESS",GET_SHOP_DATA_ASYNC_FAILURE:"shop/GET_SHOP_DATA_ASYNC_FAILURE",ADD_TO_FAVORITES:"shop/ADD_TO_FAVORITES",DECREASE_FAVORITES_ITEM_COUNT:"shop/DECREASE_FAVORITES_ITEM_COUNT",DELETE_FROM_FAVORITES:"shop/DELETE_FROM_FAVORITES",SET_MODAL_STATE:"shop/SET_MODAL_STATE"},f=n(31),E=function(e,t){var n=Object(f.a)(e),a=n.findIndex((function(e){return e.id===t.id}));if(a>-1){var r=Object(_.a)({},n[a]);return r.count+=1,n[a]=r,n}return[].concat(Object(f.a)(e),[Object(_.a)(Object(_.a)({},t),{},{count:1})])},g=function(e,t){var n=Object(f.a)(e),a=n.findIndex((function(e){return e.id===t.id})),r=Object(_.a)({},n[a]);return 1===r.count?(n.splice(a,1),n):(r.count-=1,n[a]=r,n)},S=function(e,t){var n=Object(f.a)(e),a=n.findIndex((function(e){return e.id===t.id}));return n.splice(a,1),n},x={favorites:[],categories:[],shopData:[],modalIsShown:!1,errorMessage:"",isLoading:!1,shopIsLoading:!1},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case m.GET_CATEGORIES_ASYNC_START:return Object(_.a)(Object(_.a)({},e),{},{isLoading:!0});case m.GET_CATEGORIES_ASYNC_SUCCESS:return Object(_.a)(Object(_.a)({},e),{},{isLoading:!1,categories:a});case m.GET_CATEGORIES_ASYNC_FAILURE:return Object(_.a)(Object(_.a)({},e),{},{isLoading:!1,errorMessage:a});case m.GET_SHOP_DATA_ASYNC_START:return Object(_.a)(Object(_.a)({},e),{},{shopIsLoading:!0});case m.GET_SHOP_DATA_ASYNC_SUCCESS:return Object(_.a)(Object(_.a)({},e),{},{shopIsLoading:!1,shopData:a});case m.GET_SHOP_DATA_ASYNC_FAILURE:return Object(_.a)(Object(_.a)({},e),{},{shopIsLoading:!1,errorMessage:a});case m.UPDATE_FAVORITES:return Object(_.a)(Object(_.a)({},e),{},{favorites:a});case m.ADD_TO_FAVORITES:return Object(_.a)(Object(_.a)({},e),{},{favorites:E(e.favorites,a)});case m.DECREASE_FAVORITES_ITEM_COUNT:return Object(_.a)(Object(_.a)({},e),{},{favorites:g(e.favorites,a)});case m.DELETE_FROM_FAVORITES:return Object(_.a)(Object(_.a)({},e),{},{favorites:S(e.favorites,a)});case m.SET_MODAL_STATE:return Object(_.a)(Object(_.a)({},e),{},{modalIsShown:a});default:return e}},A={CLEAR_USER_DATA:"auth/CLEAR_USER_DATA",USER_SIGNIN_ASYNC_START:"auth/USER_SIGNIN_ASYNC_START",USER_SIGNIN_ASYNC_SUCCESS:"auth/USER_SIGNIN_ASYNC_SUCCESS",USER_SIGNIN_ASYNC_FAILURE:"auth/USER_SIGNIN_ASYNC_FAILURE"},T={user:null,isLoading:!1,errorMessage:""},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case A.USER_SIGNIN_ASYNC_START:return Object(_.a)(Object(_.a)({},e),{},{isLoading:!0});case A.USER_SIGNIN_ASYNC_SUCCESS:return Object(_.a)(Object(_.a)({},e),{},{user:a,isLoading:!1});case A.USER_SIGNIN_ASYNC_FAILURE:return Object(_.a)(Object(_.a)({},e),{},{errorMessage:a,isLoading:!1});case A.CLEAR_USER_DATA:return T;default:return e}},N=Object(o.combineReducers)({auth:Object(l.a)(j,C),common:h,shop:Object(l.a)(p,v)}),y=n(65),I=n(66),R=n(67),w=(Object(I.createLogger)({collapsed:!0}),[y.a]);var L=Object(o.createStore)(N,Object(R.composeWithDevTools)(o.applyMiddleware.apply(void 0,w))),G=Object(l.b)(L);i.a.defaults.baseURL="https://ns-shopify.herokuapp.com/api/v1/",i.a.interceptors.request.use((function(e){var t,n=null===(t=L.getState().auth.user)||void 0===t?void 0:t.token;return n&&(e.headers.Authorization="Bearer ".concat(n)),e})),i.a.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));i.a;var D,k,U=n(15),M=n(3),P=n(69),Y=n(18),F=n(5),H=n(70),V=n.n(H),W=function(e){for(var t=0,n=0;n<e.length;n++){t+=e[n].count}return t};function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function q(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function z(e,t){var n=e.title,r=e.titleId,c=q(e,["title","titleId"]);return a.createElement("svg",B({width:"50px",height:"39px",viewBox:"0 0 50 39",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,D||(D=a.createElement("desc",null,"Created with Sketch.")),k||(k=a.createElement("g",{id:"WiP",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},a.createElement("g",{id:"Artboard",transform:"translate(-90.000000, -38.000000)"},a.createElement("g",{id:"Group",transform:"translate(90.000000, 38.000000)"},a.createElement("polygon",{id:"Rectangle",fill:"#808282",points:"3 14 25 26.5 47 14 40.855176 39 9.08421785 39"}),a.createElement("polygon",{id:"Triangle",fillOpacity:.262838724,fill:"#101A1A",points:"25 8 40 39 10 39"}),a.createElement("circle",{id:"Oval",fill:"#5E6363",cx:2,cy:9,r:2}),a.createElement("circle",{id:"Oval",fill:"#5E6363",cx:25,cy:2,r:2}),a.createElement("circle",{id:"Oval",fill:"#5E6363",cx:48,cy:9,r:2}))))))}var J,X,Q,Z,K,$,ee,te,ne,ae,re,ce,se,ie,oe,le=a.forwardRef(z);n.p;function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function de(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function je(e,t){var n=e.title,r=e.titleId,c=de(e,["title","titleId"]);return a.createElement("svg",ue({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 407.453 407.453",style:{enableBackground:"new 0 0 407.453 407.453"},xmlSpace:"preserve",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,a.createElement("g",null,a.createElement("path",{style:{fill:"#010002"},d:"M255.099,116.515c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H143.486 c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129H255.099z"}),a.createElement("path",{style:{fill:"#010002"},d:"M367.062,100.258H311.69c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129h47.243 v274.681H48.519V116.515h44.536c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H40.391 c-4.487,0-8.129,3.633-8.129,8.129v290.938c0,4.495,3.642,8.129,8.129,8.129h326.671c4.487,0,8.129-3.633,8.129-8.129V108.386 C375.191,103.891,371.557,100.258,367.062,100.258z"}),a.createElement("path",{style:{fill:"#010002"},d:"M282.59,134.796c4.487,0,8.129-3.633,8.129-8.129V67.394C290.718,30.238,250.604,0,201.101,0 c-49.308,0-89.414,30.238-89.414,67.394v59.274c0,4.495,3.642,8.129,8.129,8.129s8.129-3.633,8.129-8.129V67.394 c0-28.198,32.823-51.137,73.36-51.137c40.334,0,73.157,22.939,73.157,51.137v59.274 C274.461,131.163,278.095,134.796,282.59,134.796z"}),a.createElement("path",{style:{fill:"#010002"},d:"M98.892,147.566c0,11.526,9.389,20.907,20.923,20.907c11.534,0,20.923-9.38,20.923-20.907 c0-4.495-3.642-8.129-8.129-8.129s-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.569,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129S98.892,143.071,98.892,147.566z"}),a.createElement("path",{style:{fill:"#010002"},d:"M282.59,168.473c11.534,0,20.923-9.38,20.923-20.907c0-4.495-3.642-8.129-8.129-8.129 c-4.487,0-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.577,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129c-4.487,0-8.129,3.633-8.129,8.129C261.667,159.092,271.055,168.473,282.59,168.473z"})),J||(J=a.createElement("g",null)),X||(X=a.createElement("g",null)),Q||(Q=a.createElement("g",null)),Z||(Z=a.createElement("g",null)),K||(K=a.createElement("g",null)),$||($=a.createElement("g",null)),ee||(ee=a.createElement("g",null)),te||(te=a.createElement("g",null)),ne||(ne=a.createElement("g",null)),ae||(ae=a.createElement("g",null)),re||(re=a.createElement("g",null)),ce||(ce=a.createElement("g",null)),se||(se=a.createElement("g",null)),ie||(ie=a.createElement("g",null)),oe||(oe=a.createElement("g",null)))}var pe,_e=a.forwardRef(je),Oe=(n.p,n(23)),be=n(71),he=n.n(be),me=n(0),fe=function(e){var t=e.children,n=e.type,a=void 0===n?"button":n,r=e.isLoading,c=e.disabled,s=Object(Oe.a)(e,["children","type","isLoading","disabled"]);return Object(me.jsx)("button",Object(_.a)(Object(_.a)({className:he.a.btn,type:a,disabled:r||c},s),{},{children:r?"Loading...":t}))},Ee=n(24),ge=n.n(Ee),Se=Object(M.b)((function(e){return{shopItems:e.shop.favorites}}))((function(e){var t=e.shopItems,n=e.toggleCartDropdown,a=Object(F.g)();return Object(me.jsx)("div",{className:ge.a.container,children:t.length?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)("div",{className:ge.a.itemsWrapper,children:t.map((function(e){return Object(me.jsxs)("div",{className:ge.a.cartItem,children:[Object(me.jsx)("img",{className:ge.a.image,src:e.imageUrl,alt:"cart-item"}),Object(me.jsxs)("div",{children:[Object(me.jsx)("div",{children:e.name}),Object(me.jsxs)("div",{children:[e.count," X $",e.price]})]})]},e._id)}))}),Object(me.jsx)(fe,{onClick:function(){a.push("/checkout"),n()},children:"Go to checkout"})]}):Object(me.jsx)("div",{className:ge.a.emptyWrapper,children:Object(me.jsx)("div",{children:"Empty"})})})})),xe=n(9),ve=n.n(xe),Ae=n(17),Te={getUser:function(e){return i.a.post("auth/login",e)}},Ce=function(e){return function(){var t=Object(Ae.a)(ve.a.mark((function t(n){var a,r;return ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:A.USER_SIGNIN_ASYNC_START}),t.prev=1,t.next=4,Te.getUser(e);case 4:return a=t.sent,r=a.data.data,n({type:A.USER_SIGNIN_ASYNC_SUCCESS,payload:r}),t.abrupt("return",!0);case 10:return t.prev=10,t.t0=t.catch(1),n((c=t.t0.message,{type:A.USER_SIGNIN_ASYNC_FAILURE,payload:c})),t.abrupt("return",!1);case 14:case"end":return t.stop()}var c}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},Ne=n(16),ye=n.n(Ne),Ie={clearUserData:function(){return{type:A.CLEAR_USER_DATA}}},Re=Object(M.b)((function(e){return{shopItemsCount:W(e.shop.favorites),user:e.auth.user}}),Ie)((function(e){var t=e.shopItemsCount,n=e.user,r=e.clearUserData,c=Object(F.g)(),s=Object(a.useState)(!1),i=Object(Y.a)(s,2),o=i[0],l=i[1],u=function(){return l(!o)};return Object(me.jsxs)("header",{className:ye.a.container,children:[Object(me.jsx)(le,{className:"u-cursor--pointer",onClick:function(){return c.push("/home")}}),Object(me.jsxs)("nav",{className:ye.a.nav,children:[Object(me.jsx)(U.b,{to:"/shop",className:ye.a.link,children:"SHOP"}),Object(me.jsx)(U.b,{to:"/contacts",className:ye.a.link,children:"CONTACTS"}),Object(me.jsx)("div",{className:ye.a.link,onClick:function(){n?r():c.push("/auth")},children:n?"SIGN OUT":"SIGN IN"}),n&&Object(me.jsx)(V.a,{disabled:!o,onOutsideClick:u,children:Object(me.jsxs)("div",{className:ye.a.item,children:[Object(me.jsxs)("div",{className:ye.a.cart,onClick:u,children:[Object(me.jsx)(_e,{className:ye.a.bag}),!!t&&Object(me.jsx)("span",{className:ye.a.count,children:t})]}),o&&Object(me.jsx)(Se,{toggleCartDropdown:u})]})})]})]})})),we=n(34),Le=n.n(we),Ge=Object(a.createContext)(),De=n(25),ke=n.n(De),Ue=function(e){var t=e.category,n=Object(a.useContext)(Ge),r=n.trackNum,c=n.setTrackNum,s=n.name,i=Object(F.g)();console.log(s);return console.log(r),Object(me.jsx)("li",{className:ke.a.container,onClick:function(){c(r+1),i.push("/shop/".concat(t.routeName))},children:Object(me.jsxs)("div",{className:ke.a.wrapper,children:[Object(me.jsx)("div",{className:ke.a.image,style:{backgroundImage:"url(".concat(t.imageUrl,")")}}),Object(me.jsxs)("div",{className:ke.a.content,children:[Object(me.jsx)("div",{className:ke.a.title,children:t.title}),Object(me.jsx)("div",{className:"u-uppercase",children:"shop now"})]})]})})},Me=n(72),Pe=n.n(Me),Ye=n(73),Fe=n.n(Ye),He=function(){return Object(me.jsx)("div",{className:Fe.a.container})},Ve=n(74),We=n.n(Ve),Be=function(e){var t=e.children;return e.isLoading?Object(me.jsx)("div",{className:We.a.container,children:Object(me.jsx)(He,{})}):t},qe=function(e){var t=Object(M.d)((function(e){return e.shop})),n=t.isLoading,a=t.categories;return Object(me.jsx)(Be,{isLoading:n,children:Object(me.jsx)("ul",{className:Pe.a.container,children:a.map((function(e){return Object(me.jsx)(Ue,{category:e},e._id)}))})})},ze=n(75),Je=n.n(ze),Xe=n(7),Qe=n(20),Ze=n.n(Qe),Ke=n(29),$e=n.n(Ke),et=function(e){var t,n=e.label,r=e.value,c=void 0===r?"":r,s=Object(Oe.a)(e,["label","value"]),i=Object(a.useRef)(),o=Ze()((t={},Object(Xe.a)(t,$e.a.label,!0),Object(Xe.a)(t,$e.a.active,c),t));return Object(me.jsxs)("div",{className:$e.a.container,children:[Object(me.jsx)("input",Object(_.a)(Object(_.a)({className:$e.a.input,value:c},s),{},{ref:i})),Object(me.jsx)("label",{className:o,onClick:function(e){i.current.focus()},children:n})]})},tt=function(){var e=Object(a.useState)({}),t=Object(Y.a)(e,2),n=t[0],r=t[1];return{handleInput:function(e){var t=e.target,a=t.value,c=t.name;r(Object(_.a)(Object(_.a)({},n),{},Object(Xe.a)({},c,a)))},inputState:n,setInputState:r}},nt=function(){var e=tt(),t=e.handleInput,n=e.inputState,a=Object(M.d)((function(e){return{errorMessage:e.auth.errorMessage,isLoading:e.auth.isLoading}})),r=a.errorMessage,c=a.isLoading,s=Object(M.c)(),i=Object(F.g)(),o=function(){var e=Object(Ae.a)(ve.a.mark((function e(t){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,s(Ce(n));case 3:e.sent&&i.push("/shop");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(me.jsxs)("form",{onSubmit:o,children:[Object(me.jsx)("h1",{children:"I already have an account"}),Object(me.jsx)("p",{children:"Sign in with your email and password"}),Object(me.jsx)(et,{name:"email",type:"email",required:!0,label:"Email",onChange:t,value:n.email}),Object(me.jsx)(et,{name:"password",type:"password",required:!0,label:"Password",value:n.password,onChange:t}),r&&Object(me.jsx)("div",{className:"u-text--error",children:r}),Object(me.jsx)(fe,{type:"submit",isLoading:c,children:"Sign In"})]})},at=function(){var e=tt(),t=e.inputState,n=e.handleInput,a=function(){var e=Object(Ae.a)(ve.a.mark((function e(n){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,i.a.post("auth/signup",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(me.jsxs)("form",{onSubmit:a,children:[Object(me.jsx)("h1",{children:"I do not have a account"}),Object(me.jsx)("p",{children:"Sign up with your email and password"}),Object(me.jsx)(et,{name:"name",label:"Display name",onChange:n,value:t.name,required:!0}),Object(me.jsx)(et,{name:"email",type:"email",required:!0,label:"Email",value:t.email,onChange:n}),Object(me.jsx)(et,{name:"password",type:"password",required:!0,label:"Password",value:t.password,onChange:n}),Object(me.jsx)(et,{name:"passwordConfirm",type:"password",required:!0,label:"Confirm password",value:t.passwordConfirm,onChange:n}),Object(me.jsx)(fe,{type:"submit",children:"Sign Up"})]})},rt=function(){return Object(me.jsxs)("div",{className:Je.a.container,children:[Object(me.jsx)(nt,{}),Object(me.jsx)(at,{})]})},ct={getCategories:function(){return i.a.get("categories")},getShopData:function(){return i.a.get("shop")}},st=function(e){return{type:m.GET_CATEGORIES_ASYNC_SUCCESS,payload:e}},it=function(e){return{type:m.ADD_TO_FAVORITES,payload:e}},ot=function(e){return{type:m.SET_MODAL_STATE,payload:e}},lt=n(35),ut=n.n(lt),dt=n(26),jt=n.n(dt),pt=Object(M.b)((function(e){return{user:e.auth.user}}))((function(e){var t=e.shopItem,n=e.user,a=Object(M.c)();return Object(me.jsxs)("div",{className:jt.a.container,children:[Object(me.jsxs)("div",{className:jt.a.imageWrapper,children:[Object(me.jsx)("img",{className:jt.a.image,src:t.imageUrl,alt:""}),Object(me.jsx)("button",{className:jt.a.btn,onClick:function(){a(n?it(t):ot(!0))},children:"Add to cart"})]}),Object(me.jsxs)("div",{className:jt.a.info,children:[Object(me.jsx)("span",{children:t.name}),Object(me.jsx)("span",{children:t.price})]})]})})),_t=function(e){var t,n=e.category,a=e.data,r=e.handleShopCategoryClick,c=Ze()((t={},Object(Xe.a)(t,ut.a.title,!0),Object(Xe.a)(t,"u-cursor--pointer",!!r),t));return Object(me.jsxs)("div",{className:ut.a.container,children:[Object(me.jsx)("h1",{className:c,onClick:r,children:n}),Object(me.jsx)("div",{className:ut.a.list,children:a.map((function(e){return Object(me.jsx)(pt,{shopItem:e},e._id)}))})]})},Ot=n(76),bt=n.n(Ot),ht=function(e){var t=e.history,n=Object(M.c)(),r=Object(M.d)((function(e){return e.shop})),c=r.categories,s=r.isLoading,i=r.shopIsLoading,o=r.shopData;Object(a.useEffect)((function(){n(function(){var e=Object(Ae.a)(ve.a.mark((function e(t){var n,a;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:m.GET_SHOP_DATA_ASYNC_START}),e.prev=1,e.next=4,ct.getShopData();case 4:n=e.sent,a=n.data,t({type:m.GET_SHOP_DATA_ASYNC_SUCCESS,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t((r=e.t0.message,{type:m.GET_SHOP_DATA_ASYNC_FAILURE,payload:r}));case 12:case"end":return e.stop()}var r}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}),[n]);var l=c.map((function(e){return e.routeName}));return Object(me.jsx)(Be,{isLoading:s||i,children:Object(me.jsx)("div",{className:bt.a.container,children:l.map((function(e){var n=o.filter((function(t){return t.category===e}));return Object(me.jsx)(_t,{category:e,data:n.slice(0,4),handleShopCategoryClick:function(){return function(e){t.push("/shop/".concat(e))}(e)}},e)}))})})},mt=function(e){var t=Object(M.c)(),n=Object(a.useState)([]),r=Object(Y.a)(n,2),c=r[0],s=r[1],o=Object(a.useState)(!1),l=Object(Y.a)(o,2),u=l[0],d=l[1],j=e.match.params.category;return Object(a.useEffect)((function(){d(!0),i.a.get("shop/".concat(j)).then((function(e){s(e.data),d(!1)})).catch((function(e){var n;console.log(e.response),t((n=e.message,{type:O.SET_GLOBAL_ERROR_MESSAGE,payload:n}))}))}),[j]),Object(me.jsx)(Be,{isLoading:u,children:Object(me.jsx)(_t,{category:j,data:c})})},ft=n(77),Et=n.n(ft),gt=function(){var e=Object(F.g)(),t=Object(M.c)();return Object(me.jsxs)("div",{className:Et.a.content,children:[Object(me.jsx)("h1",{children:"Ooops, Please sign in first."}),Object(me.jsx)("div",{children:Object(me.jsx)(fe,{onClick:function(){t(ot(!1)),e.push("/auth")},children:"Go to Auth"})}),Object(me.jsx)(fe,{onClick:function(){t(ot(!1))},children:"Close"})]})},St=function(e){var t=e.children,n=e.className,a=e.isOpen,r=e.handleModalClose,s=Ze()(Object(Xe.a)({"ns-modal__overlay":!0},n,n));return a?c.a.createPortal(Object(me.jsx)("div",{className:"ns-modal",onMouseDown:r,children:Object(me.jsx)("div",{className:s,onMouseDown:function(e){return e.stopPropagation()},children:Object(me.jsx)("div",{className:"wrapper",children:t})})}),document.getElementById("root")):null},xt=function(e){return function(t){var n=t.isOpen,a=Object(Oe.a)(t,["isOpen"]);return n?Object(me.jsx)(St,{isOpen:!0,handleModalClose:a.handleModalClose,children:Object(me.jsx)(e,Object(_.a)({},a))}):null}},vt=n(78),At=n.n(vt),Tt=xt(gt),Ct=function(){var e=Object(M.d)((function(e){return e.shop})).modalIsShown,t=Object(M.c)();return Object(me.jsxs)("div",{className:At.a.container,children:[Object(me.jsx)(F.b,{component:ht,exact:!0,path:"/shop"}),Object(me.jsx)(F.b,{component:mt,path:"/shop/:category"}),Object(me.jsx)(Tt,{isOpen:e,handleModalClose:function(){return t(ot(!1))}})]})},Nt=n(36),yt=n.n(Nt),It=function(e){var t=Object(M.c)(),n=e.rowData;return Object(me.jsxs)("tr",{className:yt.a.container,children:[Object(me.jsx)("td",{children:Object(me.jsx)("img",{className:yt.a.image,src:n.imageUrl,alt:""})}),Object(me.jsx)("td",{children:Object(me.jsx)("div",{children:n.name})}),Object(me.jsx)("td",{children:Object(me.jsxs)("div",{className:yt.a.quantity,children:[Object(me.jsx)("div",{onClick:function(){t({type:m.DECREASE_FAVORITES_ITEM_COUNT,payload:n})},className:"u-cursor--pointer",children:"<"}),Object(me.jsx)("div",{children:n.count}),Object(me.jsx)("div",{onClick:function(){t(it(n))},className:"u-cursor--pointer",children:">"})]})}),Object(me.jsx)("td",{children:Object(me.jsx)("div",{children:n.price})}),Object(me.jsx)("td",{children:Object(me.jsx)("span",{className:"u-cursor--pointer",onClick:function(){return t({type:m.DELETE_FROM_FAVORITES,payload:n})},children:"X"})})]})},Rt=n(30),wt=n.n(Rt),Lt=function(e){for(var t=0,n=0;n<e.length;n++){t+=e[n].count*e[n].price}return t},Gt=n(79),Dt=n.n(Gt),kt=n(80),Ut=n(81).a.div(pe||(pe=Object(kt.a)(["\n    height: ","vmin;\n"])),(function(e){return e.height})),Mt=function(e){var t=e.children,n=e.height;return!!Object(M.d)((function(e){return e.shop.favorites})).length?t:Object(me.jsx)(Ut,{height:n,className:Dt.a.container,children:Object(me.jsx)("div",{children:"There is no selected items"})})},Pt=function(){var e=Object(M.d)((function(e){return e.shop.favorites}));return Object(me.jsxs)("div",{className:wt.a.container,children:[Object(me.jsx)("h1",{children:"Process your checkout"}),Object(me.jsxs)(Mt,{height:"35",message:"There is no selected items",hasData:e.length,children:[Object(me.jsxs)("table",{className:wt.a.table,children:[Object(me.jsx)("thead",{children:Object(me.jsxs)("tr",{children:[Object(me.jsx)("th",{children:"Product"}),Object(me.jsx)("th",{children:"Description"}),Object(me.jsx)("th",{children:"Quantity"}),Object(me.jsx)("th",{children:"Price"}),Object(me.jsx)("th",{children:"Remove"})]})}),Object(me.jsx)("tbody",{children:e.map((function(e){return Object(me.jsx)(It,{rowData:e})}))})]}),Object(me.jsxs)("div",{className:wt.a.bottom,children:[Object(me.jsxs)("div",{className:wt.a.total,children:["TOTAL: $",Lt(e)]}),Object(me.jsx)(fe,{children:"Pay Now"})]})]})]})},Yt=function(){return Object(me.jsx)("div",{children:Object(me.jsx)("iframe",{title:"contacts",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3047.8069020078406!2d44.51343321488719!3d40.19111057725508!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x406abd218c0499f7%3A0x54165e8b3d0b54c3!2z0JrQsNGB0LrQsNC0!5e0!3m2!1sru!2s!4v1619191830233!5m2!1sru!2s",width:"100%",height:"350",loading:"lazy"})})},Ft=n(85),Ht=n.n(Ft),Vt=function(e){var t=e.errorMessage,n=e.children;return t?Object(me.jsx)("div",{className:Ht.a.container,children:t}):n},Wt=Object(M.b)((function(e){return{globalErrorMessage:e.common.globalErrorMessage}}))((function(e){var t=e.globalErrorMessage,n=Object(a.useState)(1),r=Object(Y.a)(n,2),c=r[0],s=r[1],i=Object(M.c)();return Object(a.useEffect)((function(){i(function(){var e=Object(Ae.a)(ve.a.mark((function e(t){var n,a;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:m.GET_CATEGORIES_ASYNC_START}),e.prev=1,e.next=4,ct.getCategories();case 4:n=e.sent,a=n.data,t(st(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t((r=e.t0.message,{type:m.GET_CATEGORIES_ASYNC_FAILURE,payload:r}));case 12:case"end":return e.stop()}var r}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}),[i]),Object(me.jsx)(Ge.Provider,{value:{trackNum:c,setTrackNum:s},children:Object(me.jsxs)("div",{className:Le.a.container,children:[Object(me.jsx)(Re,{}),Object(me.jsx)("main",{className:Le.a.main,children:Object(me.jsx)("div",{className:Le.a.pages,children:Object(me.jsx)(Vt,{errorMessage:t,children:Object(me.jsxs)(F.d,{children:[Object(me.jsx)(F.b,{component:qe,path:"/home"}),Object(me.jsx)(F.b,{component:rt,path:"/auth"}),Object(me.jsx)(F.b,{component:Ct,path:"/shop"}),Object(me.jsx)(F.b,{component:Pt,path:"/checkout"}),Object(me.jsx)(F.b,{component:Yt,path:"/contacts"}),Object(me.jsx)(F.a,{exact:!0,from:"/",to:"/home"})]})})})})]})})}));c.a.render(Object(me.jsx)(M.a,{store:L,children:Object(me.jsx)(P.a,{persistor:G,children:Object(me.jsx)(U.a,{children:Object(me.jsx)(Wt,{})})})}),document.getElementById("root"))},16:function(e,t,n){e.exports={container:"header_container__loFV1",nav:"header_nav__25_Ci",link:"header_link__1F5I2",item:"header_item__1qjCa",cart:"header_cart__2_dhd",bag:"header_bag___M3AG",count:"header_count__35mEu"}},24:function(e,t,n){e.exports={container:"cart-dropdown_container__17bQT",itemsWrapper:"cart-dropdown_itemsWrapper__1XM7V",cartItem:"cart-dropdown_cartItem__2dkof",image:"cart-dropdown_image__98U0I",emptyWrapper:"cart-dropdown_emptyWrapper__1Ai8y"}},25:function(e,t,n){e.exports={container:"category-item_container__2fgv9",wrapper:"category-item_wrapper__1TCZm",content:"category-item_content__3maC1",title:"category-item_title__3tQxu",image:"category-item_image__3bSlU"}},26:function(e,t,n){e.exports={container:"shop-item_container__1mK25",info:"shop-item_info__15sA3",imageWrapper:"shop-item_imageWrapper__2x0LE",image:"shop-item_image__2mEzJ",btn:"shop-item_btn__DY4_j"}},29:function(e,t,n){e.exports={container:"input_container__1ys-N",input:"input_input__3wTw6",label:"input_label__1cTRa",active:"input_active__3hJWI"}},30:function(e,t,n){e.exports={container:"checkout_container__3aHhJ",table:"checkout_table__2x0By",image:"checkout_image__efRrd",bottom:"checkout_bottom__1Eibc",total:"checkout_total__32l42"}},34:function(e,t,n){e.exports={container:"app_container__zFcuX",main:"app_main__2oJfF",pages:"app_pages__16nhx"}},35:function(e,t,n){e.exports={container:"shop-items_container__1VpQr",title:"shop-items_title__1oBXr",list:"shop-items_list__xuani"}},36:function(e,t,n){e.exports={container:"table-row_container__3W4g_",quantity:"table-row_quantity__WoHX_",image:"table-row_image__3wygG"}},71:function(e,t,n){e.exports={btn:"button_btn__3MTHZ"}},72:function(e,t,n){e.exports={container:"home_container__QLrEN"}},73:function(e,t,n){e.exports={container:"loader_container__2rWCC",rotate:"loader_rotate__1G3B6",dynamicAppearance:"loader_dynamicAppearance__1pOPE",dropdownExpand:"loader_dropdownExpand__36DZw",moveRightToLeft:"loader_moveRightToLeft__1eIJ_"}},74:function(e,t,n){e.exports={container:"wrapper-loader_container__siMSI"}},75:function(e,t,n){e.exports={container:"auth_container__1SxJ9"}},76:function(e,t,n){e.exports={container:"shop-preview_container__1X5Su"}},77:function(e,t,n){e.exports={content:"shop-modal_content__3aHKA"}},78:function(e,t,n){},79:function(e,t,n){e.exports={container:"empty-data-message_container__2L8ps"}},85:function(e,t,n){e.exports={container:"oops_container__1vVko"}},90:function(e,t,n){}},[[138,1,2]]]);
//# sourceMappingURL=main.b5a31a1c.chunk.js.map